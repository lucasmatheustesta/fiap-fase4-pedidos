version: 1.0
runtime: python3
build:
  commands:
    build:
      - echo "ğŸ—ï¸ Starting build process..."
      - echo "ğŸ“¦ Installing Python dependencies..."
      - python -m pip install --upgrade pip
      - pip install -r requirements.txt
      - echo "ğŸ“ Creating necessary directories..."
      - mkdir -p /tmp/db
      - chmod 755 /tmp/db
      - echo "ğŸ” Verifying application structure..."
      - ls -la src/
      - echo "âœ… Build completed successfully"
run:
  runtime-version: 3.11
  command: python src/main.py
  network:
    port: 5000
    env: PORT
  env:
    - name: FLASK_ENV
      value: "production"
    - name: PORT
      value: "5000"
    - name: SQLALCHEMY_DATABASE_URI
      value: "sqlite:////tmp/db/pedidos_production.db"
    - name: FLASK_DEBUG
      value: "False"
    - name: PYTHONPATH
      value: "/app/src"
    - name: PYTHONUNBUFFERED
      value: "1"

